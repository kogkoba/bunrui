<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>æ¤ç‰©ãƒãƒˆãƒ«ã‚²ãƒ¼ãƒ </title>
  <style>
    body { background-color: black; color: white; text-align: center; font-family: 'Courier New', monospace; }
    #gameContainer { display: inline-block; border: 2px solid white; padding: 10px; width: 320px; background-color: black; }
    #messageBox { border: 2px solid white; padding: 10px; margin-bottom: 10px; font-size: 1.2em; height: auto; min-height: 4.5em; white-space: pre-line; }
    #plantImage {
      width: 200px; height: 200px; object-fit: contain;
      display: block; margin: 10px auto; border: 2px solid white;
    }
    #categoryButtons { display: flex; flex-wrap: wrap; justify-content: center; }
    .category-button { margin: 5px; padding: 5px; font-size: 1em; cursor: pointer; background-color: black; color: white; border: 1px solid white; width: 100px; }
    .category-button:hover { background-color: white; color: black; }
    .hp-bar { width: 100%; height: 20px; background-color: red; margin: 5px 0; }
    .hp-label { font-size: 1.2em; }
    #bgmButton { background-color: white; color: black; padding: 5px; cursor: pointer; margin-bottom: 10px; }
  </style>
</head>
<body>

<!-- ğŸµ BGMã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒœã‚¿ãƒ³ -->
<button id="bgmButton">BGM: ON</button>
<audio id="bgmLoop" src="https://kogkoba.github.io/bunrui/sciencebgm.mp3" loop></audio>

<script>
document.addEventListener("click", () => {
  const bgm = document.getElementById("bgmLoop");
  bgm.play();
});

// âœ… BGM ON/OFF ãƒœã‚¿ãƒ³æ©Ÿèƒ½
document.getElementById("bgmButton").addEventListener("click", function() {
  const bgm = document.getElementById("bgmLoop");
  if (bgm.paused) {
    bgm.play();
    this.textContent = "BGM: ON";
  } else {
    bgm.pause();
    this.textContent = "BGM: OFF";
  }
});
</script>

<div id="gameContainer">
  <div id="messageBox">æ¤ç‰©ãŒ ã‚ã‚‰ã‚ã‚ŒãŸï¼</div>
  <div class="hp-label">æ¤ç‰© HP</div>
  <div class="hp-bar" id="plantHpBar"></div>
  <img id="plantImage" src="" alt="æ¤ç‰©ã®ç”»åƒ">
  <div class="hp-label">ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ HP</div>
  <div class="hp-bar" id="playerHpBar"></div>
  <div id="categoryButtons">
    <button class="category-button" data-category="ã‚¢ãƒ–ãƒ©ãƒŠç§‘">ã‚¢ãƒ–ãƒ©ãƒŠç§‘</button>
    <button class="category-button" data-category="ã‚¤ãƒç§‘">ã‚¤ãƒç§‘</button>
    <button class="category-button" data-category="ã‚¦ãƒªç§‘">ã‚¦ãƒªç§‘</button>
    <button class="category-button" data-category="ã‚­ã‚¯ç§‘">ã‚­ã‚¯ç§‘</button>
    <button class="category-button" data-category="ãƒãƒ¡ç§‘">ãƒãƒ¡ç§‘</button>
    <button class="category-button" data-category="ãã®ä»–">ãã®ä»–</button>
  </div>
</div>

<script>
const IMAGE_FOLDER = "https://kogkoba.github.io/bunrui/";

const plants = {
  "ã‚¢ãƒ–ãƒ©ãƒŠç§‘": { "aburanna.png": "ã‚¢ãƒ–ãƒ©ãƒŠ", "inugarashi.png": "ã‚¤ãƒŒã‚¬ãƒ©ã‚·", "kabu.png": "ã‚«ãƒ–", "kyabetu.png": "ã‚­ãƒ£ãƒ™ãƒ„", "daikon.png": "ãƒ€ã‚¤ã‚³ãƒ³", "nazuna.png": "ãƒŠã‚ºãƒŠ", "wasabi.png": "ãƒ¯ã‚µãƒ“" },
  "ã‚¤ãƒç§‘": { "ine.png": "ã‚¤ãƒ", "enokorogusa.png": "ã‚¨ãƒã‚³ãƒ­ã‚°ã‚µ", "ohisiba.png": "ã‚ªãƒ’ã‚·ãƒ", "komugi.png": "ã‚³ãƒ ã‚®", "sasa.png": "ã‚µã‚µ", "susuki.png": "ã‚¹ã‚¹ã‚­", "suzumenokatabira.png": "ã‚¹ã‚ºãƒ¡ãƒã‚«ã‚¿ãƒ“ãƒ©", "suzumenoteppou.png": "ã‚¹ã‚ºãƒ¡ãƒãƒ†ãƒƒãƒã‚¦", "take.png": "ã‚¿ã‚±", "toumorokoshi.png": "ãƒˆã‚¦ãƒ¢ãƒ­ã‚³ã‚·", "mehisiba.png": "ãƒ¡ãƒ’ã‚·ãƒ" },
  "ã‚¦ãƒªç§‘": { "amatyazuru.png": "ã‚¢ãƒãƒãƒ£ãƒ…ãƒ«", "kabotya.png": "ã‚«ãƒœãƒãƒ£", "karasuuri.png": "ã‚«ãƒ©ã‚¹ã‚¦ãƒª", "kyuuri.png": "ã‚­ãƒ¥ã‚¦ãƒª", "suika.png": "ã‚¹ã‚¤ã‚«", "hetima.png": "ãƒ˜ãƒãƒ", "yuugao.png": "ãƒ¦ã‚¦ã‚¬ã‚ª" },
  "ã‚­ã‚¯ç§‘": { "onamomi.png": "ã‚ªãƒŠãƒ¢ãƒŸ", "kiku.png": "ã‚­ã‚¯", "kosumosu.png": "ã‚³ã‚¹ãƒ¢ã‚¹", "seitakaawadatisou.png": "ã‚»ã‚¤ã‚¿ã‚«ã‚¢ãƒ¯ãƒ€ãƒã‚½ã‚¦", "senndanngusa.png": "ã‚»ãƒ³ãƒ€ãƒ³ã‚°ã‚µ", "daria.png": "ãƒ€ãƒªã‚¢", "tannpopo.png": "ã‚¿ãƒ³ãƒãƒ", "noazami.png": "ãƒã‚¢ã‚¶ãƒŸ", "nogeshi.png": "ãƒã‚²ã‚·", "haruzion.png": "ãƒãƒ«ã‚¸ã‚ªãƒ³", "himawari.png": "ãƒ’ãƒãƒ¯ãƒª", "himezyoon.png": "ãƒ’ãƒ¡ã‚¸ãƒ§ã‚ªãƒ³", "hyakunitisou.png": "ãƒ’ãƒ£ã‚¯ãƒ‹ãƒã‚½ã‚¦", "ma-garetto.png": "ãƒãƒ¼ã‚¬ãƒ¬ãƒƒãƒˆ", "mari-go-rudo.png": "ãƒãƒªãƒ¼ã‚´ãƒ¼ãƒ«ãƒ‰" },
  "ãƒãƒ¡ç§‘": { "inngennmame.png": "ã‚¤ãƒ³ã‚²ãƒ³ãƒãƒ¡", "enndou.png": "ã‚¨ãƒ³ãƒ‰ã‚¦", "ozigisou.png": "ã‚ªã‚¸ã‚®ã‚½ã‚¦", "karasunoenndou.png": "ã‚«ãƒ©ã‚¹ãƒã‚¨ãƒ³ãƒ‰ã‚¦", "kuzu.png": "ã‚¯ã‚º", "gennge.png": "ã‚²ãƒ³ã‚²", "sirotumegusa.png": "ã‚·ãƒ­ãƒ„ãƒ¡ã‚°ã‚µ", "sui-topi.png": "ã‚¹ã‚¤ãƒ¼ãƒˆãƒ”ãƒ¼", "nemunoki.png": "ãƒãƒ ãƒã‚­", "hagi.png": "ãƒã‚®", "fuzi.png": "ãƒ•ã‚¸" }
};

let playerHp = 100, plantHp = 100;
let lastPlantName = "æ¤ç‰©";
let isFirstEncounter = true;

function getRandomPlant() {
  const category = Object.keys(plants)[Math.floor(Math.random() * Object.keys(plants).length)];
  const plantFile = Object.keys(plants[category])[Math.floor(Math.random() * Object.keys(plants[category]).length)];
  const plantName = plants[category][plantFile];
  return { plantFile, plantName, category };
}

function showQuestion() {
  const { plantFile, plantName, category } = getRandomPlant();
  document.getElementById("plantImage").src = IMAGE_FOLDER + plantFile;
  document.getElementById("messageBox").textContent = isFirstEncounter ? "æ¤ç‰©ãŒ ã‚ã‚‰ã‚ã‚ŒãŸï¼" : `${lastPlantName} ã¯ ${plantName} ã‚’ã‚ˆã‚“ã ã€‚`;
  lastPlantName = plantName;
  isFirstEncounter = false;
}

showQuestion();
</script>

</body>
</html>
